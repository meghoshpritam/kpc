{{ define "singleArticleImage" }}
<img src="{{ .image.url }}" title="{{ .image.alt }}" alt="{{ .image.alt }}" class="object-contain w-full h-64" width="460" height="380">
{{ end }}

{{ define "singleArticle" }}
<div class="grid grid-rows-1 rounded-lg shadow-md cursor-pointer lg:grid-rows-8 hover:shadow-2xl group category-page-article-card-1006" role="link" data-href="{{ .ctx.RelPermalink }}" tabindex="0" onclick="window.location='{{ .ctx.RelPermalink }}';">
  {{ with .ctx.Params.articleData }}
  {{ $aImgAlt := $.dArticle.image.alt }}
  {{ if .image.alt }}
  {{ $aImgAlt = .image.alt }}
  {{ end }}
  {{ if .image.url }}
  {{ block "singleArticleImage" . }}
  {{ end }}
  {{ else }}
  {{ block "singleArticleImage" (dict "image" (dict "url" $.dArticle.image.url "alt" $aImgAlt)) }}
  {{ end }}
  {{ end }}
  <div class="flex flex-col row-span-2 px-3 py-3 gradient-rectangle-border2 lg:row-span-3">
    <h3 class="mt-3 mb-2 text-xl font-lato lg:text-2xl xl:text-3xl group-hover:text-g3">
      {{ .title }}
    </h3>
    <p class="flex-grow mt-2 mb-2 text-lg leading-8 text-g4 font-lato lg:text-xl xl:text-2xl">
      {{ .description | markdownify }}</p>
  </div>
  {{ end }}
</div>
{{ end }}

{{ define "main" }}
{{ $pageData := .Site.Data.singlePageTemplate }}
{{/* top section start  */}}
<section class="bg-left-bottom bg-no-repeat bg-cover bg-single-article">
  {{ partial "header.html" . }}
  {{/* hero section start  */}}
  {{ with .Params.hero }}
  <div class="container grid grid-cols-1 px-4 pt-24 mx-auto text-white md:grid-cols-2">
    <div class="py-20 pb-36">
      <h1 class="text-6xl font-semibold">
        <span>
          {{ .title.line1 }}
        </span>
        <span>
          {{ .title.line2 }}
        </span>
      </h1>
      <div class="mt-8 text-7 article-description">
        {{ .description | markdownify }}
      </div>
    </div>
    {{ $imageUrl := .image.url }}
    {{ $imageAlt := .image.alt }}
    {{ if not $imageUrl }}
    {{ $imageUrl = $pageData.hero.image.url }}
    {{ end }}
    {{ if not $imageAlt }}
    {{ $imageAlt = $pageData.hero.image.alt }}
    {{ end }}
    <div class="-mb-5 mt-14 md:mt-0">
      <img src="{{ $imageUrl }}" alt="{{ $imageAlt }}" title="{{ $imageAlt }}" class="w-full h-auto" height="566" width="612">
    </div>
  </div>
  {{ end }}
  {{/* hero section end  */}}
</section>

<section class="container px-4 mx-auto">
  {{ with .Params.header }}
  <div class="flex flex-wrap mt-10 lg:mt-16 lg:flex-nowrap">
    <div class="relative order-2 w-full mb-7 lg:mb-0 md:w-180">
      <input type="text" placeholder="{{ .search.placeholder }}" class="w-full px-2 py-2 text-sm border rounded-md placeholder-gray3 text-blue-gray border-gray3" />
      <svg class="w-3.5 h-3.5 absolute top-2.5 right-3.5 text-blue-gray">
        <use xlink:href="#shape-search"></use>
      </svg>
    </div>
    <div class="flex items-center flex-wrap sm:flex-nowrap flex-grow order-2 -ml-3.5 tag-bluttons-container md:ml-11 justify-center md:justify-start">
      {{ range .filterTags }}
      <button class="mx-4 text-sm px-6 py-0.5 mb-4 sm:mb-0 shadow-button rounded-md border border-light-gray3" data-id="{{ .id }}">{{ .label }}</button>
      {{ end }}
    </div>
    <div class="flex items-center justify-end flex-grow order-1 w-full sm:flex-nowrap lg:order-2 mb-7 lg:mb-0">
      {{ partial "breadcrumb.html" $ }}
    </div>
  </div>
  {{ end }}
</section>

<section class="container grid grid-cols-1 px-4 mx-auto mt-14 sm:grid-cols-2 gap-x-10 mb-28 lg:gap-x-14 xl:gap-x-20 gap-y-24 md:gap-y-28 lg:gap-y-36 xl:gap-y-48 lg:grid-cols-3">
  {{ range .Pages }}
  <a href="{{ .RelPermalink }}" class="flex flex-col h-full bg-white border-2 border-white rounded-3xl shadow-card2 hover:shadow-2xl hover:border-sky-blue" title="{{ .Title }}" aria-label="{{ .Title }}">
    {{ with .Params }}
    <div class="h-56">
      <img src="{{ .coverImage }}" alt="{{ .Title }}" class="w-full h-full bg-center bg-no-repeat bg-cover rounded-xl">
    </div>
    <h3 class="flex-grow px-5 py-3 text-2xl text-indigo1">{{ .articleData.title }}</h3>
    <div class="mt-1.5 px-5 text-sm">{{ truncate 200 "..." .shortDescription }}</div>
    <div class="flex items-center justify-between pb-5 pl-5 text-xs mt-7">
      <div>
        {{ dateFormat "02 July 2006" $.Lastmod }}
      </div>
      <div class="flex justify-end">
        <div class="py-2 pr-6 text-white rounded-l-full pl-7 bg-sky-blue -mr-0.5">{{ $.Params.article.readMore }}</div>
      </div>
    </div>
    {{ end }}
  </a>
  {{ end }}
</section>

{{ with .Params.studyMaterial }}
<section class="text-white bg-sky-blue">
  <div class="container grid grid-cols-1 px-4 py-20 mx-auto md:py-40 md:grid-cols-2">
    <div class="mb-10 md:mb-0">
      {{ with .image }}
      <img src="{{ .url }}" alt="{{ .alt }}">
      {{ end }}
    </div>
    <div class="flex flex-col justify-center sm:px-10 lg:px-16 xl:px-24">
      <div>
        <hr class="w-24 h-2 border-none bg-secondary mb-9">
        <h2 class="mb-8 text-4xl font-bold">{{ .title }}</h2>
        <div class="text-sm">{{ .details | markdownify }}</div>
        {{ with .cta }}
        <a href="{{ .url }}" aria-label="{{ .label }}" title="{{ .label }}" class="flex items-center mt-5 text-sm font-bold hover:text-dark">
          <span>{{ .label }}</span>
          <svg class="w-4 h-2">
            <use xlink:href="#shape-sleek-arrow" />
          </svg>
        </a>
        {{ end }}
      </div>
    </div>
  </div>
</section>
{{ end }}

{{ with .Params.mostAppreciatedArticle }}
<section class="mt-64">
  <div class="container grid grid-cols-1 px-4 mx-auto lg:grid-cols-2 bg-white1">
    <div class="flex flex-col justify-center sm:px-10 lg:px-14 xl:px-17">
      <a class="block group" href="">
        <h2 class="text-4xl font-bold mb-7 text-secondary">{{ .title }}</h2>
        <div class="text-sm text-gray2">{{ .details | markdownify }}</div>
        <div class="flex items-center justify-between text-sm mt-9">
          <div class="text-gray2">May 20</div>
          <span class="font-bold duration-300 ease-in-out text-dark group-hover:text-secondary">{{ $.Params.article.readMore }}</span>
        </div>
      </a>
    </div>
    <div>
      {{ with .image }}
      <img src="{{ .url }}" alt="{{ .alt }}" class="w-full h-full bg-left-top bg-no-repeat bg-cover">
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

{{ with .Params.downloadCenter }}
<section class="container grid grid-cols-1 px-4 mx-auto mt-64 lg:grid-cols-2 mb-92">
  <div>
    {{ with .image }}
    <img src="{{ .url }}" alt="{{ .alt }}" class="w-full h-auto">
    {{ end }}
  </div>
  <div class="flex flex-col justify-center">
    <div class="sm:px-10 lg:px-16">
      <h2 class="text-5xl font-bold text-sky-blue span-text-secondary">{{ .title | markdownify }}</h2>
      <div class="my-10 text-sm text-gray2">{{ .details | markdownify }}</div>
      {{ with .cta }}
      <a href="{{ .link }}" title="{{ .label }}" aria-label="{{ .label }}" class="inline-block text-white border-2 bg-secondary border-secondary text-sm px-7 py-1.5 font-medium rounded-full hover:bg-white hover:text-secondary">{{ .label }}</a>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}

<script defer type="text/javascript">
  window.onload = function() {
    App.fixHeightListPage();
  }
</script>

{{ partial "schema/website.html" . }}

{{ end }}