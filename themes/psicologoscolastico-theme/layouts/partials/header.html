{{ define "sub-menu" }}
  {{ $menuListItemClass := "mx-0 hover:text-white inline-flex w-full hover:bg-primary ease-in-out duration-300 px-2 py-1.5" }}
  <li class="mb-2 text-black1">
    {{ if .submenu }}
      {{ $subMenuId1 := .label | urlize }}
      <input type="checkbox" id="{{ $subMenuId1 }}" hidden class="hidden nav-menu" />
      <label for="{{ $subMenuId1 }}" class="{{ $menuListItemClass }} cursor-pointer nav-menu flex justify-between">
        <span>
          {{ .label }}
        </span>
        <svg class="flex-shrink-0 w-2.5 h-2.5 mt-1.5 transform rotate-90">
          <use xlink:href="#shape-arrow"></use>
        </svg>
      </label>
      <ul class="ml-3 nav-menu">
        {{ range .submenu }}
          {{ block "sub-menu" . }}{{ end }}
        {{ end }}
      </ul>
    {{ else }}
      <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="{{ $menuListItemClass }}">{{ .label }}</a>
    {{ end }}
  </li>
{{ end }}

{{ define "sticky-menu" }}
  {{ with .ctx }}
    <nav class="container relative hidden px-4 pb-3 mx-auto font-semibold text-13 lg:block font-roboto z-60">
      <ul class="flex flex-wrap justify-between">
        {{ range .menu }}
          <li class="mr-1.5 last:m-0 relative">
            {{ $classNme := "border-0 border-b-2 border-transparent hover:border-white ease-in-out duration-300" }}
            {{ if .submenu }}
              {{ $inputId := print (.label | urlize) "-nav-menu" $.suffix }}
              <input type="checkbox" name="{{ .label }}" id="{{ $inputId }}" hidden class="hidden nav-menu" data-id="top-nav-menu" onchange="closeOtherMenuItem(this);" />
              <label for="{{ $inputId }}" class="fixed inset-0 z-10 bg-black bg-opacity-10 nav-menu-overlay"></label>
              <label for="{{ $inputId }}" class="cursor-pointer nav-menu relative z-20 {{ $classNme }}" onmouseover="showMenu(this);">{{ .label }}</label>
              <ul class="absolute z-20 w-56 py-2 overflow-y-auto transform -translate-x-16 bg-white shadow-xl top-8 nav-menu max-h-65vh scroll-bar">
                {{ range .submenu }}
                  {{ block "sub-menu" . }}{{ end }}
                {{ end }}
              </ul>
            {{ else }}
              <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="{{ $classNme }}">{{ .label }}</a>
            {{ end }}
          </li>
        {{ end }}
      </ul>
    </nav>
  {{ end }}
{{ end }}

{{ define "menu" }}
  <div class="container flex px-4 mx-auto py-2 sm:py-3.5 items-center">
    {{ with .logo }}
      <div class="flex items-center justify-center mr-4">
        <a href="{{ .url }}" aria-label="{{ .title }}" title="{{ .title }}" class="">
          <img src="{{ .image }}" title="{{ $.college.name }}" alt="{{ $.college.name }}" class="w-12 h-12 sm:w-16 sm:h-16" />
        </a>
        <div class="ml-2.5 text-center font-lato w-56 sm:w-68">
          <a href="{{ .url }}" aria-label="{{ .title }}" title="{{ .title }}" class="" data-id="header-college-name-container">
            {{ range $idx, $ctx := $.college.i18nNames }}
              <span class="text-lg font-bold sm:text-2xl font-montserrat ease-in-out duration-300 {{ if ne $idx 0 }}hidden{{ end }}" data-id="header-college-name">{{ $ctx }}</span>
            {{ end }}
          </a>
          {{ with $.college }}
            <p class="mt-1 text-xs font-semibold sm:text-sm">{{ .affiliated }}</p>
            <p class="text-xs sm:text-sm">{{ .grade }}</p>
          {{ end }}
        </div>
      </div>
    {{ end }}
    <span class="flex-grow"></span>
    {{ with .topHeader.middle }}
      <div class="flex-col items-center hidden text-sm font-semibold lg:flex font-lato">
        <ul class="flex">
          {{ range .top }}
            <li>
              <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="mx-2 duration-300 ease-in-out border-0 border-b-2 border-transparent hover:border-white">{{ .label }}</a>
            </li>
          {{ end }}
        </ul>
        <ul class="grid grid-cols-3 gap-3 mt-2">
          {{ range .bottom }}
            <li>
              <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="w-full text-center inline-block px-2.5 py-2.5 duration-300 ease-in-out border-2 rounded-md hover:bg-white hover:text-sky-blue border-sky-blue bg-sky-blue hover:border-white">{{ .label }}</a>
            </li>
          {{ end }}
        </ul>
      </div>
    {{ end }}
    <span class="flex-grow"></span>
    <div class="flex-col items-center hidden text-sm sm:flex">
      {{ with .topHeader.right }}
        <ul class="hidden md:flex lg:mb-3 font-roboto">
          {{ range .menu }}
            <li>
              <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="inline-block px-2.5 py-2 mx-2 duration-300 ease-in-out border-2 rounded-md hover:bg-white hover:text-secondary border-secondary bg-secondary font-semibold hover:border-secondary">{{ .label }}</a>
            </li>
          {{ end }}
        </ul>
        <div class="hidden mt-1 lg:flex">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" class="w-4 h-4 mt-1 text-gold" xmlns="http://www.w3.org/2000/svg">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M21 8.77217L14.0208 1.79299C12.8492 0.621414 10.9497 0.621413 9.77817 1.79299L3 8.57116V23.0858H10V17.0858C10 15.9812 10.8954 15.0858 12 15.0858C13.1046 15.0858 14 15.9812 14 17.0858V23.0858H21V8.77217ZM11.1924 3.2072L5 9.39959V21.0858H8V17.0858C8 14.8767 9.79086 13.0858 12 13.0858C14.2091 13.0858 16 14.8767 16 17.0858V21.0858H19V9.6006L12.6066 3.2072C12.2161 2.81668 11.5829 2.81668 11.1924 3.2072Z"
              fill="currentColor"
            />
          </svg>
          <div class="ml-2">
            {{ .address | markdownify }}
          </div>
        </div>
      {{ end }}
    </div>

    <button class="text-white duration-300 ease-in-out border-none outline-none cursor-pointer lg:hidden hover:text-sky-blue ml-9" aria-label="menu" onclick="App.toggleMenu()">
      <svg class="w-10 h-10">
        <use xlink:href="#shape-menu-icon"></use>
      </svg>
    </button>
  </div>
{{ end }}

{{ $siteLink := $.RelPermalink }}
{{ with .Site.Data.header }}
  <header class="top-0 left-0 right-0 text-white z-60 bg-primary page-header-0203">
    {{ block "menu" . }}{{ end }}
    <div class="py-1 pt-2 mb-3 text-sm bg-secondary hide-on-fixed">
      <marquee behavior="" direction="left">Scrolling text </marquee>
    </div>
    {{ block "sticky-menu" (dict "ctx" . "suffix" "-sticky") }}{{ end }}
  </header>
  <div class="fixed left-0 right-0 flex hidden h-full text-white menu-drawer-0303 z-60">
    <div class="flex-grow bg-black cursor-default bg-opacity-10" role="button" aria-label="close menu" onclick="App.toggleMenu()"></div>
    <ul class="px-2 py-6 overflow-y-auto w-80 bg-primary">
      <ul class="border-0 border-b border-white mb-2.5 text-sm">
        {{ range .topHeader.middle.top }}
          <li class="mb-1 text-white">
            <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="mx-0 hover:text-white inline-flex w-full hover:bg-primary ease-in-out duration-300 px-2 py-1.5">{{ .label }}</a>
          </li>
        {{ end }}
        {{ range .topHeader.middle.bottom }}
          <li class="mb-1 text-gold">
            <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="mx-0 hover:text-white inline-flex w-full hover:bg-primary ease-in-out duration-300 px-2 py-1.5">{{ .label }}</a>
          </li>
        {{ end }}
      </ul>
      {{ range .menu }}
        <li class="mr-1.5 last:m-0">
          {{ if .submenu }}
            <input type="checkbox" name="{{ .label }}" id="{{ .label }}-nav-menu-mobile" hidden class="hidden nav-menu" />
            <label for="{{ .label }}-nav-menu-mobile" class="flex justify-between cursor-pointer nav-menu py-2 mb-1.5 px-2">
              <span>
                {{ .label }}
              </span>
              <svg class="flex-shrink-0 w-3 h-3 transform rotate-0">
                <use xlink:href="#shape-arrow"></use>
              </svg>
            </label>
            <ul class="duration-500 ease-in-out bg-white shadow-xl nav-menu">
              {{ range .submenu }}
                <li class="mb-1 text-black1">
                  {{ if .submenu }}
                    <span class="mx-0 inline-flex w-full font-bold px-2 py-1.5">{{ .label }}</span>
                    <ul class="ml-3">
                      {{ range .submenu }}
                        <li class="mb-1 text-black1">
                          {{ if .submenu }}
                            <span class="mx-0 inline-flex w-full font-bold px-2 py-1.5">{{ .label }}</span>
                            <ul class="ml-3.5">
                              {{ range .submenu }}
                                <li class="mb-1 text-black1">
                                  <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="mx-0 hover:text-white inline-flex w-full hover:bg-primary ease-in-out duration-300 px-2 py-1.5">{{ .label }}</a>
                                </li>
                              {{ end }}
                            </ul>
                          {{ else }}
                            <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="mx-0 hover:text-white inline-flex w-full hover:bg-primary ease-in-out duration-300 px-2 py-1.5">{{ .label }}</a>
                          {{ end }}
                        </li>
                      {{ end }}
                    </ul>
                  {{ else }}
                    <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="mx-0 hover:text-white inline-flex w-full hover:bg-primary ease-in-out duration-300 px-2 py-1.5">{{ .label }}</a>
                  {{ end }}
                </li>
              {{ end }}
            </ul>
          {{ else }}
            <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="py-2 mb-1.5 mx-0 px-2 inline-flex w-full">{{ .label }}</a>
          {{ end }}
        </li>
      {{ end }}
      <ul class="border-0 border-t border-white mt-2.5 pt-3.5 grid grid-cols-2 gap-4">
        {{ range .topHeader.right.menu }}
          <li class="mb-2.5 text-white">
            <a href="{{ .url }}" title="{{ .label }}" aria-label="{{ .label }}" class="w-full text-center inline-block text-sm px-2.5 py-2 duration-300 ease-in-out border-2 rounded-md hover:bg-white hover:text-secondary border-secondary bg-secondary font-semibold hover:border-secondary"
              >{{ .label }}</a
            >
          </li>
        {{ end }}

      </ul>
    </ul>
  </div>
{{ end }}
