{{ define "mailIcon" }}
{{ if .alternative }}
{{ with $.ctx }}
<div title="{{ .email.label }}" role="button" tabindex="0" onclick="App.contactFormScroll();">
    <svg
        class="w-10 h-7 hover:text-g3 ease-in-out duration-500 hover:shadow-md text-white cursor-pointer">
        <use xlink:href="#shape-mail" />
    </svg>
</div>
{{ end }}
{{ else }}
<div title="{{ .email.label }}" role="button" tabindex="0" onclick="App.contactFormScroll();">
    <svg
        class="w-10 h-7 ease-in-out duration-300 hover:shadow-circle cursor-pointer hover:bg-transparent rounded-sm">
        <use xlink:href="#shape-mail-g10" />
    </svg>
</div>
{{ end }}
{{ end }}

{{ define "ctaButton" }}
{{ if .alternative }}
{{ with $.ctx }}
<a class="text-lavender bg-white px-4 py-3 rounded-full ease-in-out duration-500 hover:shadow-md hover:bg-g3 hover:text-white text-3.75 font-semibold"
    href="{{ .button.url | relURL }}" title="{{ .button.label }}" aria-label="{{ .button.label }}">
    {{ .button.label }}
</a>
{{ end }}
{{ else }}
<a class="text-white single-template-page-hero-button-0506 px-4 py-3 rounded-full ease-in-out duration-300 hover:shadow-circle text-3.75 font-semibold"
    href="{{ .button.url | relURL }}" title="{{ .button.label }}" aria-label="{{ .button.label }}">
    {{ .button.label }}
</a>
{{ end }}
{{ end }}

{{ define "aLink" }}
{{ if .alternative }}
{{ with .ctx.link }}
<a href="{{ .url | relURL }}" aria-label="{{ .label }}" title="{{ .label }}"
    class="text-white hover:text-g3 ease-in-out duration-500 {{ if eq $.ctx.site (.url | relURL) }} underline font-bold text-g3 {{ end }}">
    {{ .label }}
</a>
{{ end }}
{{ else}}
{{ with .link }}
<a href="{{ .url | relURL }}" aria-label="{{ .label }}" title="{{ .label }}"
    class="hover:text-g1 ease-in-out duration-500 {{ if eq $.site (.url | relURL) }} underline font-bold {{ end }}">
    {{ .label }}
</a>
{{ end }}
{{ end }}
{{ end }}


{{ define "breadcrumb2" }}
<div class="font-montserrat text-sm font-medium text-white">
    <h6 class="pl-3">
        <a href="{{ "/" | relLangURL }}" class="hover:text-current hover:text-g3">Home</a>
        {{ $relPermalink := .RelPermalink }}
        {{ $url := "" }}
        {{ $lng :=.Site.Language.Lang }}
        {{ range $idx, $ctx := (split .RelPermalink "/") }}
        {{ if gt (len $ctx ) 0 }}
        {{ $url = print $url "/" $ctx }}
        {{ if eq (len (split $relPermalink  "/") ) (add $idx 2 ) }}
        > <a href="{{ print $url "/" | relURL }}" class="underline text-purple2 hover:text-white">
            {{ humanize $ctx | title }}
        </a>
        {{ else }}
        > <a href="{{ print $url "/" | relURL }}" class="hover:text-g3">
            {{ humanize $ctx | title }}
        </a>
        {{ end }}
        {{ end }}
        {{ end }}
    </h6>
</div>
{{ end }}

{{ define "scrollNav" }}
{{ $siteLink := .RelPermalink }}
<nav
    class="scroll-header-1206 gradient-rectangle-border hidden top-0 left-0 right-0 fixed z-50 shadow-xl">
    <div
        class="flex items-center flex-grow container px-5 mx-auto py-4 md:py-5 lg:py-6 space-x-3 -mt-2">
        <div class="lg:flex-grow">
            <div class="flex-grow flex items-center">
                <a href="{{- .Site.Home.RelPermalink -}}" title="psymargiotta" class="sm:mr-3">
                    <svg class="w-20 h-12 lg:w-24 lg:h-14">
                        <use xlink:href="#shape-logo-white" />
                    </svg>
                </a>
                {{ with .Site.Data.header }}
                <div class="sm:flex space-x-5 hidden flex-grow">
                    {{ range $idx, $ctx := .primaryMenu }}
                    <div
                        class="{{ if eq $idx 0 }} hidden sm:block {{ else if and (gt $idx 0) (lt $idx 2)  }} hidden md:block {{ else }} hidden lg:block {{ end }}">
                        {{ block "aLink" (dict "alternative" true "ctx" (dict "link" $ctx "site" $siteLink)) }}
                        {{ end }}
                    </div>
                    {{ end }}
                </div>
            </div>
            <div class="mt-3 hidden xl:block">
                {{ block "breadcrumb2" $ }}{{ end }}
            </div>
        </div>

        {{ with .secondaryMenu }}
        <div class="hidden gap-y-10 xl:grid grid-cols-2 xl:gap-x-5">
            <div class="col-span-2 flex justify-end space-x-7 transform translate-y-4">
                <div>
                    {{ block "mailIcon" (dict "alternative" true "ctx" . ) }}
                    {{ end }}
                </div>
                <div class="mt-1">
                    {{ block "ctaButton" (dict "alternative" true "ctx" . ) }}
                    {{ end }}
                </div>
            </div>
            {{ range .links }}
            <div class="hidden xl:flex justify-between items-center space-x-5">
                {{ block "aLink" (dict "alternative" true "ctx" (dict "link" . "site" $siteLink)) }}
                {{ end }}
            </div>
            {{ end }}
        </div>
        <div class="flex-grow xl:hidden flex justify-center">
            {{ block "ctaButton" (dict "alternative" true "ctx" . ) }}
            {{ end }}
        </div>
        <div class="hidden xm:block xl:hidden mr-2 md:mr-0">
            {{ block "mailIcon" (dict "alternative" true "ctx" . ) }}
            {{ end }}
        </div>
        {{ end }}

        {{/*  <div class="flex-grow md:hidden"></div>  */}}

        {{/* menu icon start */}}
        <div class="xl:hidden text-white cursor-pointer hover:text-g1 ease-in-out duration-500"
            role="button" aria-label="menu" onclick="App.toggleMenu()">
            <svg class="w-10 h-10">
                <use xlink:href="#shape-menu-icon"></use>
            </svg>
        </div>
        {{/* menu icon end */}}
    </div>
    <div class="container mx-auto pr-5 pl-5 -mt-1 md:-mt-3 mb-5 xl:hidden">
        {{ block "breadcrumb2" $ }}{{ end }}
    </div>
</nav>
{{ end }}
</div>
</nav>
{{ end }}

{{ $siteLink := $.RelPermalink }}
<header class="header-0806 font-montserrat text-g3 font-semibold">
    <nav class="flex items-center flex-grow container px-5 mx-auto py-4 md:py-5 lg:py-6 space-x-3">
        <a href="{{- .Site.Home.RelPermalink -}}" title="psymargiotta">
            <svg class="w-20 h-12 lg:w-24 lg:h-14">
                <use xlink:href="#shape-logo-g10" />
            </svg>
        </a>
        {{ with .Site.Data.header }}
        <div class="sm:flex space-x-5 hidden flex-grow">
            {{ range $idx, $ctx := .primaryMenu }}
            <div
                class="{{ if eq $idx 0 }} hidden sm:block {{ else if and (gt $idx 0) (lt $idx 2)  }} hidden md:block {{ else }} hidden lg:block {{ end }}">
                {{ block "aLink" (dict "link" $ctx "site" $siteLink) }}
                {{ end }}
            </div>
            {{ end }}
        </div>

        <div class="hidden gap-5 xl:grid grid-cols-2 xl:gap-y-3 xl:gap-x-5">
            {{ with .secondaryMenu }}
            <div class="col-span-2 flex justify-end space-x-7">
                <div>
                    {{ block "mailIcon" . }}
                    {{ end }}
                </div>
                <div>
                    {{ block "ctaButton" . }}
                    {{ end }}
                </div>
            </div>
            {{ range .links }}
            <div class="hidden xl:block">
                {{ block "aLink" (dict "link" . "site" $siteLink) }}
                {{ end }}
            </div>
            {{ end }}
        </div>
        <div class="flex-grow xl:hidden flex justify-center">
            {{ block "ctaButton" . }}
            {{ end }}
        </div>
        <div class="hidden xm:block xl:hidden mr-2 md:mr-0">
            {{ block "mailIcon" . }}
            {{ end }}
        </div>
        {{ end }}
        {{/*  <div class="flex-grow md:hidden"></div>  */}}

        {{/* menu icon start */}}
        <div class="xl:hidden cursor-pointer hover:text-g1 ease-in-out duration-500" role="button"
            aria-label="menu" onclick="App.toggleMenu()">
            <svg class="w-10 h-10">
                <use xlink:href="#shape-menu-icon"></use>
            </svg>
        </div>
        {{/* menu icon end */}}
    </nav>
    {{ end }}

    {{/* drawer start */}}
    {{ with .Site.Data.header }}
    <div class="menu-drawer-0421 fixed top-20 md:mt-2 lg:top-24 right-0 bottom-0 left-0 flex
        hidden  z-40">
        <div class="flex-grow bg-black bg-opacity-30" onclick="App.toggleMenu()"></div>
        <div class="bg-black bg-opacity-30">
            <div
                class="bg-white px-6 animate__animated animate__fadeInRight animate__faster h-full overflow-y-auto">
                <div class="h-20 md:hidden">
                    <div
                        class="flex justify-end pt-3 mb-14 fixed left-0 right-0 container px-5 mx-auto top-4">
                        <svg class="w-10 h-10 text-g3 hover:text-g1 cursor-pointer ease-in-out duration-500"
                            onclick="App.toggleMenu()">
                            <use xlink:href="#shape-close-icon"></use>
                        </svg>
                    </div>
                </div>
                <div class="flex space-y-3 flex-col mt-5 mb-4 lg:hidden">
                    {{ range .primaryMenu }}
                    {{ block "aLink" (dict "link" . "site" $siteLink) }}
                    {{ end }}
                    {{ end }}
                    <hr class="border-none bg-g3 h-px" />
                </div>
                {{ with .secondaryMenu }}
                <div class="flex mt-4 md:mt-5 space-y-3 flex-col">
                    {{ range .links }}
                    {{ block "aLink" (dict "link" . "site" $siteLink) }}
                    {{ end }}
                    {{ end }}
                </div>
                <div class="flex justify-center items-center space-x-5 my-5 mt-10 flex-wrap xm:hidden">
                    {{ block "mailIcon" . }}
                    {{ end }}
                    {{ block "ctaButton" . }}
                    {{ end }}
                </div>
                {{ end }}
            </div>
        </div>
    </div>
    {{ end }}
    {{/* drawer end */}}

    <!-- header on scroll start -->
    {{ block "scrollNav" . }}
    {{ end }}
    <!-- header on scroll end -->
</header>